url = "/raj/:id/:action?"
layout = "default"
title = "Raj"

[basicForm]
formSlug = "raj"
recordKeyParam = "id"
recordActionParam = "action"
createRecordKeyword = "letrehozas"
actionUpdateKeyword = "modositas"
actionDeleteKeyword = "torles"

[builderList]
modelClass = "Csatar\Csatar\Models\Patrol"
scope = "scopeTroopId"
scopeValue = "{{ :id }}"
displayColumn = "name"
noRecordsMessage = "backend::lang.list.no_records"
detailsPage = "ors"
detailsKeyColumn = "id"
detailsUrlParameter = "id"
pageNumber = "{{ :page }}"

[viewBag]
localeTitle[en] = "Troop"
localeTitle[hu] = "Raj"
==
use Csatar\Csatar\Models\Troop;

function onStart()
{
$this['troop_id']      = $this->param('id');
$troop           = Troop::where('id', $this['troop_id'])->get()->first();
$this['team_id'] = $troop->team_id ?? null;
}
==
<div class="container">
    {% component 'basicForm' %}

    <p>{{ 'Őrsök' | _ }}</p>
    {% component 'builderList' %}

    <form action="/ors/letrehozas" method="post">
        <input type="hidden" name="team" value="{{ team_id }}">
        <input type="hidden" name="troop" value="{{ troop_id }}">
        <input type="submit" class="btn btn-default" value="{{ 'Őrs hozzáadása' | _ }}">
    </form>
</div>
